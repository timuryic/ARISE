<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0a1628">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <title>ARISE - Solo Leveling Fitness</title>
  <meta name="description" content="–ü—Ä–æ–∫–∞—á–∞–π —Å–µ–±—è –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –û—Ö–æ—Ç–Ω–∏–∫! –§–∏—Ç–Ω–µ—Å –∏ —Ä–µ–∂–∏–º –¥–Ω—è –≤ —Å—Ç–∏–ª–µ Solo Leveling">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="assets/icons/icon-192.png">
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Rajdhani:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/animations.css">
</head>

<body>
  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <div class="header-left">
        <button class="sound-btn" id="sound-toggle" onclick="App.toggleSound()">üîä</button>
      </div>

      <div class="app-logo">
        <div class="app-logo-icon">‚öî</div>
        <span class="app-logo-text">ARISE</span>
      </div>

      <div class="header-right">
        <button class="lang-btn" id="lang-toggle" onclick="App.toggleLanguage()">EN</button>
        <button class="settings-btn" onclick="App.navigateTo('settings')">‚öôÔ∏è</button>
      </div>
    </header>

    <!-- Main Content -->
    <main class="app-main">
      <!-- Profile Screen -->
      <section id="screen-profile" class="screen active">
        <div class="avatar-section">
          <div class="avatar-container" id="avatar-container">
            <div class="avatar-glow" id="avatar-glow"></div>
            <div class="avatar-silhouette">
              <img src="assets/hunter-avatar.png" alt="Hunter Avatar" class="avatar-image" id="avatar-image">
            </div>
            <div class="level-badge">LV. <span id="player-level">1</span></div>
          </div>

          <div class="player-info">
            <div class="player-rank-badge" id="player-rank-badge">E-–†–ê–ù–ì</div>
            <h2 class="player-name" id="player-name">HUNTER</h2>
            <div class="player-gold" id="player-gold">
              <span class="gold-icon">ü™ô</span> <span id="gold-amount">0</span> <span class="gold-label">GOLD</span>
            </div>
          </div>
        </div>

        <!-- Rank Info Card -->
        <div class="card rank-card" id="rank-card">
          <div class="rank-info">
            <div class="rank-icon" id="rank-icon">üî∞</div>
            <div class="rank-details">
              <div class="rank-name" id="rank-name">E-–†–ê–ù–ì</div>
              <div class="rank-description" id="rank-description">–°–∞–º—ã–π —Å–ª–∞–±—ã–π —É—Ä–æ–≤–µ–Ω—å...</div>
            </div>
          </div>
          <div class="rank-progress">
            <span class="rank-progress-text">–î–æ <span id="next-rank-name">D-–†–ê–ù–ì–ê</span>: <span
                id="levels-to-next">4</span> —É—Ä–æ–≤–Ω–µ–π</span>
          </div>
        </div>

        <!-- XP Bar -->
        <div class="xp-section mb-lg">
          <div class="xp-header">
            <span class="xp-label">EXP</span>
            <span class="xp-value"><span id="current-xp">0</span> / <span id="max-xp">100</span></span>
          </div>
          <div class="progress-bar">
            <div class="progress-bar-fill" id="xp-bar" style="width: 0%"></div>
          </div>
        </div>

        <!-- Stats Card -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon">üìä</div>
            <h3 class="card-title">–•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò</h3>
          </div>
          <div class="stats-grid">
            <div class="stat-item str" title="–°–∏–ª–∞ ‚Äî –ø—Ä–æ–∫–∞—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–ª–æ–≤—ã–º–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏">
              <span class="stat-label" data-stat="str">–°–ò–õ</span>
              <span class="stat-value" id="stat-str">10</span>
            </div>
            <div class="stat-item vit" title="–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å ‚Äî –∫–∞—Ä–¥–∏–æ –∏ –±–µ–≥">
              <span class="stat-label" data-stat="vit">–í–´–ù</span>
              <span class="stat-value" id="stat-vit">10</span>
            </div>
            <div class="stat-item agi" title="–õ–æ–≤–∫–æ—Å—Ç—å ‚Äî –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è">
              <span class="stat-label" data-stat="agi">–õ–û–í</span>
              <span class="stat-value" id="stat-agi">10</span>
            </div>
            <div class="stat-item int" title="–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç ‚Äî —á—Ç–µ–Ω–∏–µ, –º–µ–¥–∏—Ç–∞—Ü–∏—è">
              <span class="stat-label" data-stat="int">–ò–ù–¢</span>
              <span class="stat-value" id="stat-int">10</span>
            </div>
            <div class="stat-item sen" style="grid-column: span 2;" title="–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ ‚Äî —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –¥–Ω—è">
              <span class="stat-label" data-stat="sen">–î–ò–°</span>
              <span class="stat-value" id="stat-sen">10</span>
            </div>
          </div>
        </div>

        <!-- Streak Card -->
        <div class="card">
          <div class="streak-display">
            <span class="streak-icon">üî•</span>
            <div>
              <div class="streak-count" id="streak-count">0</div>
              <div class="streak-label">–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Quests Screen -->
      <section id="screen-quests" class="screen">
        <div class="quest-panel">
          <div class="quest-panel-header">
            <div class="quest-panel-icon">‚ùó</div>
            <div class="quest-panel-title">–ö–í–ï–°–¢–´</div>
            <button class="edit-quests-btn" onclick="App.navigateTo('settings')">‚úèÔ∏è</button>
          </div>

          <div class="quest-subtitle">
            [–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∫–≤–µ—Å—Ç: <strong>–†–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞—á–∞–ª—Å—è.</strong>]
          </div>

          <div class="quest-divider"></div>

          <h3 class="quest-goals-title">–¶–ï–õ–ò</h3>

          <div class="quest-list" id="quest-list">
            <!-- Quests will be rendered here -->
          </div>

          <div class="warning-banner">
            <strong>–í–ù–ò–ú–ê–ù–ò–ï:</strong> –ù–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∫–≤–µ—Å—Ç–∞ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É
            <strong>—à—Ç—Ä–∞—Ñ—É</strong>.
          </div>
        </div>
      </section>

      <!-- Rewards Screen -->
      <section id="screen-rewards" class="screen">


        <div class="card mb-md">
          <div class="card-header">
            <div class="card-icon">üéÅ</div>
            <h3 class="card-title">–ú–ê–¢–ï–†–ò–ê–õ–´</h3>
          </div>
          <div class="rewards-grid" id="rewards-grid">
            <!-- Rewards will be rendered here -->
          </div>
        </div>
      </section>

      <!-- Settings Screen -->
      <section id="screen-settings" class="screen">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">‚öôÔ∏è</div>
            <h3 class="card-title">–ù–ê–°–¢–†–û–ô–ö–ò –ö–í–ï–°–¢–û–í</h3>
          </div>

          <div class="quest-editor-list" id="quest-editor-list">
            <!-- Editable quests will be rendered here -->
          </div>

          <button class="btn btn-primary" id="add-quest-btn" style="width: 100%; margin-top: 16px;"
            onclick="App.showAddQuestModal()">
            + –î–æ–±–∞–≤–∏—Ç—å –∫–≤–µ—Å—Ç
          </button>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-icon">üìú</div>
            <h3 class="card-title">–ñ–£–†–ù–ê–õ –ò–ó–ú–ï–ù–ï–ù–ò–ô</h3>
          </div>
          <div class="journal-list" id="journal-list">
            <!-- Journal entries will be rendered here -->
          </div>
        </div>

        <div class="card">
          <button class="btn btn-secondary" id="reset-quests-btn" style="width: 100%;" onclick="App.resetQuests()">
            –°–±—Ä–æ—Å–∏—Ç—å –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º
          </button>
        </div>
      </section>

      <section id="screen-shop" class="screen">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">üõí</div>
            <h3 class="card-title" id="title-shop">–ú–ê–ì–ê–ó–ò–ù</h3>
          </div>
          <div class="shop-grid" id="shop-grid">
            <!-- Items injected by JS -->
          </div>
        </div>
      </section>

      <!-- Dungeons Screen -->
      <section id="screen-dungeons" class="screen">
        <!-- State 1: Gate Selection -->
        <div id="dungeon-gates-view">
          <div class="card">
            <div class="card-header">
              <div class="card-icon">‚õ©Ô∏è</div>
              <h3 class="card-title" id="title-dungeons">–í–†–ê–¢–ê</h3>
            </div>
            <div class="keys-display">
              –ö–ª—é—á–∏: <span id="key-count">0</span> üîë
            </div>
            <div class="gates-grid" id="gates-grid">
              <!-- Gates injected by JS -->
            </div>
          </div>
        </div>

        <!-- State 2: Active Raid -->
        <div id="dungeon-raid-view" style="display: none;">
          <div class="raid-container">
            <div class="boss-container">
              <div class="boss-name" id="boss-name">BOSS NAME</div>
              <div class="boss-image" id="boss-image">üëπ</div>
              <div class="boss-hp-bar">
                <div class="boss-hp-fill" id="boss-hp-fill"></div>
              </div>
              <div class="boss-hp-text">HP: <span id="boss-hp-text">100/100</span></div>
            </div>

            <div class="card raid-quests-card">
              <div class="card-header">
                <h3 class="card-title" style="color: var(--color-accent-red)">–ó–ê–î–ê–ß–ò –†–ï–ô–î–ê</h3>
              </div>
              <div class="raid-quest-list" id="raid-quest-list">
                <!-- Raid quests injected by JS -->
              </div>
            </div>

            <button class="btn btn-danger" onclick="App.surrenderRaid()"
              style="width: 100%; margin-top: 20px; opacity: 0.5;">
              <span id="surrender-btn-text">–ü–æ–∫–∏–Ω—É—Ç—å –ø–æ–¥–∑–µ–º–µ–ª—å–µ</span>
            </button>
          </div>
        </div>
      </section>

      <!-- History Screen -->
      <section id="screen-history" class="screen">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">üèÖ</div>
            <h3 class="card-title" id="title-achievements">–î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h3>
          </div>
          <div class="achievements-grid" id="achievements-grid">
            <!-- Injected by JS -->
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-icon">üìÖ</div>
            <h3 class="card-title" id="title-history">–ò–°–¢–û–†–ò–Ø</h3>
          </div>
          <div class="history-list" id="history-list">
            <!-- Injected by JS -->
          </div>
        </div>
        <div id="history-calendar">
          <!-- Calendar will be rendered here -->
        </div>
  </div>


  </section>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item active" data-screen="profile">
      <span class="nav-icon">üë§</span>
      <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
    </button>
    <button class="nav-item" data-screen="quests">
      <span class="nav-icon">‚öîÔ∏è</span>
      <span class="nav-label">–ö–≤–µ—Å—Ç—ã</span>
    </button>
    <button class="nav-item" data-screen="rewards">
      <span class="nav-icon">üéÅ</span>
      <span class="nav-label">–ù–∞–≥—Ä–∞–¥—ã</span>
    </button>
    <button class="nav-item" data-screen="shop">
      <span class="nav-icon">üõí</span>
      <span class="nav-label">–ú–∞–≥–∞–∑–∏–Ω</span>
    </button>
    <button class="nav-item" data-screen="dungeons">
      <span class="nav-icon">‚õ©Ô∏è</span>
      <span class="nav-label">–í—Ä–∞—Ç–∞</span>
    </button>
    <button class="nav-item" data-screen="history">
      <span class="nav-icon">üìä</span>
      <span class="nav-label">–ò—Å—Ç–æ—Ä–∏—è</span>
    </button>
  </nav>
  </div>

  <!-- Modal for Rewards -->
  <div class="modal-overlay" id="reward-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon" id="modal-icon">üìö</div>
        <div class="quest-panel-title" id="modal-title">–ù–ê–ì–†–ê–î–ê</div>
        <span class="quest-panel-close" onclick="App.closeModal()">√ó</span>
      </div>
      <div style="padding: 20px;">
        <h4 id="modal-subtitle" style="color: var(--color-accent-gold); margin-bottom: 15px;"></h4>
        <div id="modal-content" style="color: var(--color-text-secondary); line-height: 1.6;"></div>
        <div id="modal-download" style="margin-top: 15px;"></div>
        <button class="btn btn-primary" style="width: 100%; margin-top: 20px;" onclick="App.closeModal()">
          –ó–∞–∫—Ä—ã—Ç—å
        </button>
      </div>
    </div>
  </div>

  <!-- Level Up Modal -->
  <div class="modal-overlay" id="levelup-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px; text-align: center;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">‚¨ÜÔ∏è</div>
        <div class="quest-panel-title">LEVEL UP!</div>
      </div>
      <div style="padding: 30px;">
        <div style="font-size: 4rem; margin-bottom: 20px;">üéâ</div>
        <h2 style="color: var(--color-accent-cyan); margin-bottom: 10px;">
          –£—Ä–æ–≤–µ–Ω—å <span id="new-level">2</span>!
        </h2>
        <p style="color: var(--color-text-secondary); margin-bottom: 20px;">
          –¢—ã —Å—Ç–∞–ª —Å–∏–ª—å–Ω–µ–µ!
        </p>
        <div style="background: rgba(0, 255, 136, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <p style="color: var(--color-accent-green);">
            +<span id="stat-points-gained">2</span> –æ—á–∫–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
          </p>
        </div>
        <button class="btn btn-primary" style="width: 100%;" onclick="App.closeLevelUpModal()">
          ARISE!
        </button>
      </div>
    </div>
  </div>

  <!-- Rank Up Modal -->
  <div class="modal-overlay" id="rankup-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px; text-align: center;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">üèÜ</div>
        <div class="quest-panel-title">RANK UP!</div>
      </div>
      <div style="padding: 30px;">
        <div style="font-size: 4rem; margin-bottom: 20px;" id="rankup-icon">‚öîÔ∏è</div>
        <h2 id="rankup-name" style="margin-bottom: 10px;">D-–†–ê–ù–ì!</h2>
        <p id="rankup-description" style="color: var(--color-text-secondary); margin-bottom: 20px;"></p>
        <button class="btn btn-primary" style="width: 100%;" onclick="App.closeRankUpModal()">
          ARISE!
        </button>
      </div>
    </div>
  </div>

  <!-- Edit Quest Modal -->
  <div class="modal-overlay" id="edit-quest-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">‚úèÔ∏è</div>
        <div class="quest-panel-title" id="edit-modal-title">–†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨</div>
        <span class="quest-panel-close" onclick="App.closeEditModal()">√ó</span>
      </div>
      <div style="padding: 20px;">
        <input type="hidden" id="edit-quest-id">

        <div class="form-group">
          <label id="label-name">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
          <input type="text" id="edit-quest-name" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–≤–µ—Å—Ç–∞">
        </div>

        <div class="form-group">
          <label id="label-icon">–ò–∫–æ–Ω–∫–∞</label>
          <div class="icon-picker" id="icon-picker">
            <!-- Icons will be rendered here -->
          </div>
        </div>

        <div class="form-group">
          <label id="label-target">–¶–µ–ª—å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)</label>
          <input type="number" id="edit-quest-target" class="form-input" placeholder="100" min="1">
        </div>

        <div class="form-group">
          <label id="label-unit">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è</label>
          <input type="text" id="edit-quest-unit" class="form-input" placeholder="–º–∏–Ω, –∫–º, —à—Ç">
        </div>

        <div class="form-group">
          <label id="label-stat">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</label>
          <select id="edit-quest-stat" class="form-input">
            <option value="str">STR (–°–∏–ª–∞)</option>
            <option value="vit">VIT (–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å)</option>
            <option value="agi">AGI (–õ–æ–≤–∫–æ—Å—Ç—å)</option>
            <option value="int">INT (–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç)</option>
            <option value="sen">SEN (–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞)</option>
          </select>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 20px;">
          <button class="btn btn-secondary" id="cancel-edit-btn" style="flex: 1;"
            onclick="App.closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" id="save-edit-btn" style="flex: 1;"
            onclick="App.saveQuestEdit()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>

        <button class="btn btn-danger" style="width: 100%; margin-top: 10px;" id="delete-quest-btn"
          onclick="App.deleteCurrentQuest()">
          –£–¥–∞–ª–∏—Ç—å –∫–≤–µ—Å—Ç
        </button>
      </div>
    </div>
  </div>

  <!-- Notification Container -->
  <div id="notification-container" class="notification-container"></div>

  <!-- Scripts -->
  <script src="js/storage.js"></script>
  <script src="js/i18n.js"></script>
  <script src="js/audio.js"></script>
  <script src="js/character.js"></script>
  <script src="js/quest-editor.js"></script>
  <script src="js/quests.js"></script>
  <script src="js/rewards.js"></script>
  <script src="js/shop.js"></script>
  <script src="js/history.js"></script>
  <script src="js/achievements.js"></script>
  <script src="js/dungeon.js"></script>
  <script src="js/particles.js"></script>
  <script src="js/app.js"></script>
</body>

</html>