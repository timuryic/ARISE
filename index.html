<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0a1628">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <title>ARISE - Solo Leveling Fitness</title>
  <meta name="description" content="–ü—Ä–æ–∫–∞—á–∞–π —Å–µ–±—è –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –û—Ö–æ—Ç–Ω–∏–∫! –§–∏—Ç–Ω–µ—Å –∏ —Ä–µ–∂–∏–º –¥–Ω—è –≤ —Å—Ç–∏–ª–µ Solo Leveling">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="assets/icons/icon-192.png">
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Rajdhani:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css?v=6">
  <link rel="stylesheet" href="css/animations.css">
</head>

<body>
  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <div class="header-left">
        <button class="sound-btn" id="sound-toggle" onclick="App.toggleSound()">üîä</button>
      </div>

      <div class="app-logo">
        <div class="app-logo-icon">‚öî</div>
        <span class="app-logo-text">ARISE</span>
      </div>

      <div class="header-right">
        <button class="lang-btn" id="lang-toggle" onclick="App.toggleLanguage()">EN</button>
        <button class="settings-btn" onclick="App.navigateTo('settings')">‚öôÔ∏è</button>
      </div>
    </header>

    <!-- Main Content -->
    <main class="app-main">
      <!-- Profile Screen -->
      <section id="screen-profile" class="screen active">
        <div class="avatar-section">
          <div class="avatar-container" id="avatar-container">
            <div class="avatar-glow" id="avatar-glow"></div>
            <div class="avatar-silhouette">
              <img src="assets/hunter-avatar.png" alt="Hunter Avatar" class="avatar-image" id="avatar-image">
            </div>
            <div class="level-badge">LV. <span id="player-level">1</span></div>
          </div>

          <div class="player-info">
            <div class="player-rank-badge" id="player-rank-badge">E-–†–ê–ù–ì</div>
            <div class="player-name-row">
              <h2 class="player-name" id="player-name">HUNTER</h2>
              <button class="account-btn" id="account-btn" onclick="App.showAccountModal()" title="Account">üë§</button>
            </div>
            <div class="player-gold" id="player-gold">
              <span class="gold-icon">ü™ô</span> <span id="gold-amount">0</span> <span class="gold-label">GOLD</span>
            </div>
          </div>

        </div>

        <!-- Rank Info Card -->
        <div class="card rank-card" id="rank-card">
          <div class="rank-info">
            <div class="rank-icon" id="rank-icon">üî∞</div>
            <div class="rank-details">
              <div class="rank-name" id="rank-name">E-–†–ê–ù–ì</div>
              <div class="rank-description" id="rank-description">–°–∞–º—ã–π —Å–ª–∞–±—ã–π —É—Ä–æ–≤–µ–Ω—å...</div>
            </div>
          </div>
          <div class="rank-progress">
            <span class="rank-progress-text">–î–æ <span id="next-rank-name">D-–†–ê–ù–ì–ê</span>: <span
                id="levels-to-next">4</span> —É—Ä–æ–≤–Ω–µ–π</span>
          </div>
        </div>

        <!-- XP Bar -->
        <div class="xp-section mb-lg">
          <div class="xp-header">
            <span class="xp-label">EXP</span>
            <span class="xp-value"><span id="current-xp">0</span> / <span id="max-xp">100</span></span>
          </div>
          <div class="progress-bar">
            <div class="progress-bar-fill" id="xp-bar" style="width: 0%"></div>
          </div>
        </div>

        <!-- Stats Card -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon">üìä</div>
            <h3 class="card-title">–•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò</h3>
          </div>
          <div class="stats-grid">
            <div class="stat-item str" title="–°–∏–ª–∞ ‚Äî –ø—Ä–æ–∫–∞—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–ª–æ–≤—ã–º–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏">
              <span class="stat-label" data-stat="str">–°–ò–õ</span>
              <span class="stat-value" id="stat-str">10</span>
            </div>
            <div class="stat-item vit" title="–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å ‚Äî –∫–∞—Ä–¥–∏–æ –∏ –±–µ–≥">
              <span class="stat-label" data-stat="vit">–í–´–ù</span>
              <span class="stat-value" id="stat-vit">10</span>
            </div>
            <div class="stat-item agi" title="–õ–æ–≤–∫–æ—Å—Ç—å ‚Äî –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è">
              <span class="stat-label" data-stat="agi">–õ–û–í</span>
              <span class="stat-value" id="stat-agi">10</span>
            </div>
            <div class="stat-item int" title="–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç ‚Äî —á—Ç–µ–Ω–∏–µ, –º–µ–¥–∏—Ç–∞—Ü–∏—è">
              <span class="stat-label" data-stat="int">–ò–ù–¢</span>
              <span class="stat-value" id="stat-int">10</span>
            </div>
            <div class="stat-item sen" style="grid-column: span 2;" title="–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ ‚Äî —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –¥–Ω—è">
              <span class="stat-label" data-stat="sen">–î–ò–°</span>
              <span class="stat-value" id="stat-sen">10</span>
            </div>
          </div>
        </div>

        <!-- Streak Card -->
        <div class="card" onclick="App.showStreakModal()" style="cursor: pointer;">
          <div class="streak-display">
            <span class="streak-icon">üî•</span>
            <div>
              <div class="streak-count" id="streak-count">0</div>
              <div class="streak-label">–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Streak Reward Modal -->
      <div class="modal-overlay" id="streak-modal">
        <div class="modal-content quest-panel" style="width: 95%; max-width: 500px;">
          <div class="quest-panel-header">
            <div class="quest-panel-icon">üî•</div>
            <div class="quest-panel-title">–ï–ñ–ï–î–ù–ï–í–ù–ê–Ø –ù–ê–ì–†–ê–î–ê</div>
            <span class="quest-panel-close" onclick="App.closeStreakModal()">√ó</span>
          </div>
          <div style="padding: 20px;">
            <div style="text-align: center; margin-bottom: 20px;">
              <div style="font-size: 3rem; margin-bottom: 10px;">üî• <span id="modal-streak-count">0</span></div>
              <p style="color: var(--color-text-secondary);">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</p>
            </div>

            <div class="streak-grid" id="streak-grid">
              <!-- JS will populate this -->
            </div>
          </div>
        </div>
      </div>

      <!-- Quests Screen -->
      <section id="screen-quests" class="screen">
        <div class="quest-panel">
          <div class="quest-panel-header">
            <div class="quest-panel-icon">‚ùó</div>
            <div class="quest-panel-title">–ö–í–ï–°–¢–´</div>
            <button class="edit-quests-btn" onclick="App.navigateTo('settings')">‚úèÔ∏è</button>
          </div>

          <div class="quest-subtitle">
            [–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∫–≤–µ—Å—Ç: <strong>–†–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞—á–∞–ª—Å—è.</strong>]
          </div>

          <div class="quest-divider"></div>

          <h3 class="quest-goals-title">–¶–ï–õ–ò</h3>

          <div class="quest-list" id="quest-list">
            <!-- Quests will be rendered here -->
          </div>

          <div class="warning-banner">
            <strong>–í–ù–ò–ú–ê–ù–ò–ï:</strong> –ù–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∫–≤–µ—Å—Ç–∞ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É
            <strong>—à—Ç—Ä–∞—Ñ—É</strong>.
          </div>
        </div>
      </section>

      <!-- Rewards Screen -->
      <section id="screen-rewards" class="screen">


        <div class="card mb-md">
          <div class="card-header">
            <div class="card-icon">üéÅ</div>
            <h3 class="card-title">–ú–ê–¢–ï–†–ò–ê–õ–´</h3>
          </div>
          <div class="rewards-grid" id="rewards-grid">
            <!-- Rewards will be rendered here -->
          </div>
        </div>
      </section>

      <!-- Settings Screen -->
      <section id="screen-settings" class="screen">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">‚öôÔ∏è</div>
            <h3 class="card-title">–ù–ê–°–¢–†–û–ô–ö–ò –ö–í–ï–°–¢–û–í</h3>
          </div>

          <div class="quest-editor-list" id="quest-editor-list">
            <!-- Editable quests will be rendered here -->
          </div>

          <button class="btn btn-primary" id="add-quest-btn" style="width: 100%; margin-top: 16px;"
            onclick="App.showAddQuestModal()">
            + –î–æ–±–∞–≤–∏—Ç—å –∫–≤–µ—Å—Ç
          </button>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-icon">üìú</div>
            <h3 class="card-title">–ñ–£–†–ù–ê–õ –ò–ó–ú–ï–ù–ï–ù–ò–ô</h3>
          </div>
          <div class="journal-list" id="journal-list">
            <!-- Journal entries will be rendered here -->
          </div>
        </div>

        <div class="card">
          <button class="btn btn-secondary" id="reset-quests-btn" style="width: 100%;" onclick="App.resetQuests()">
            –°–±—Ä–æ—Å–∏—Ç—å –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º
          </button>
        </div>
      </section>

      <section id="screen-shop" class="screen">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">üõí</div>
            <h3 class="card-title" id="title-shop">–ú–ê–ì–ê–ó–ò–ù</h3>
          </div>
          <div class="shop-grid" id="shop-grid">
            <!-- Items injected by JS -->
          </div>
        </div>
      </section>

      <!-- Dungeons Screen -->
      <section id="screen-dungeons" class="screen">
        <!-- State 1: Gate Selection -->
        <div id="dungeon-gates-view">
          <div class="card">
            <div class="card-header">
              <div class="card-icon">‚õ©Ô∏è</div>
              <h3 class="card-title" id="title-dungeons">–í–†–ê–¢–ê</h3>
            </div>
            <div class="keys-display">
              –ö–ª—é—á–∏: <span id="key-count">0</span> üîë
            </div>
            <div class="gates-grid" id="gates-grid">
              <!-- Gates injected by JS -->
            </div>
          </div>
        </div>

        <!-- State 2: Active Raid -->
        <div id="dungeon-raid-view" style="display: none;">
          <div class="raid-container">
            <div class="boss-container">
              <div class="boss-name" id="boss-name">BOSS NAME</div>
              <div id="boss-bubble" class="boss-speech-bubble">–Ø –∑–∞–±–µ—Ä—É –≤–µ—Å—å —Ç–≤–æ–π —Å–Ω—é—Å...</div>
              <div class="boss-image" id="boss-image">üëπ</div>
              <div class="boss-hp-bar">
                <div class="boss-hp-fill" id="boss-hp-fill"></div>
              </div>
              <div class="boss-hp-text">HP: <span id="boss-hp-text">100/100</span></div>
            </div>

            <div class="card raid-quests-card">
              <div class="card-header">
                <h3 class="card-title" style="color: var(--color-accent-red)">–ó–ê–î–ê–ß–ò –†–ï–ô–î–ê</h3>
              </div>
              <div class="raid-quest-list" id="raid-quest-list">
                <!-- Raid quests injected by JS -->
              </div>
            </div>

            <button class="btn btn-danger" id="raid-action-btn" onclick="App.surrenderRaid()"
              style="width: 100%; margin-top: 20px;">
              <span id="surrender-btn-text">–ü–æ–∫–∏–Ω—É—Ç—å –ø–æ–¥–∑–µ–º–µ–ª—å–µ</span>
            </button>
          </div>
        </div>
      </section>

      <!-- History Screen -->
      <section id="screen-history" class="screen">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">üèÖ</div>
            <h3 class="card-title" id="title-achievements">–î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h3>
          </div>
          <div class="achievements-grid" id="achievements-grid">
            <!-- Injected by JS -->
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-icon">üìÖ</div>
            <h3 class="card-title" id="title-history">–ò–°–¢–û–†–ò–Ø</h3>
          </div>
          <div class="history-list" id="history-list">
            <!-- Injected by JS -->
          </div>
        </div>
        <div id="history-calendar">
          <!-- Calendar will be rendered here -->
        </div>
  </div>


  </section>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item active" data-screen="profile">
      <span class="nav-icon">üë§</span>
      <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
    </button>
    <button class="nav-item" data-screen="quests">
      <span class="nav-icon">‚öîÔ∏è</span>
      <span class="nav-label">–ö–≤–µ—Å—Ç—ã</span>
    </button>
    <button class="nav-item" data-screen="rewards">
      <span class="nav-icon">üéÅ</span>
      <span class="nav-label">–ù–∞–≥—Ä–∞–¥—ã</span>
    </button>
    <button class="nav-item" data-screen="shop">
      <span class="nav-icon">üõí</span>
      <span class="nav-label">–ú–∞–≥–∞–∑–∏–Ω</span>
    </button>
    <button class="nav-item" data-screen="dungeons">
      <span class="nav-icon">‚õ©Ô∏è</span>
      <span class="nav-label">–í—Ä–∞—Ç–∞</span>
    </button>
    <button class="nav-item" data-screen="history">
      <span class="nav-icon">üìä</span>
      <span class="nav-label">–ò—Å—Ç–æ—Ä–∏—è</span>
    </button>
  </nav>
  </div>

  <!-- Modal for Rewards -->
  <div class="modal-overlay" id="reward-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon" id="modal-icon">üìö</div>
        <div class="quest-panel-title" id="modal-title">–ù–ê–ì–†–ê–î–ê</div>
        <span class="quest-panel-close" onclick="App.closeModal()">√ó</span>
      </div>
      <div style="padding: 20px;">
        <h4 id="modal-subtitle" style="color: var(--color-accent-gold); margin-bottom: 15px;"></h4>
        <div id="modal-content" style="color: var(--color-text-secondary); line-height: 1.6;"></div>
        <div id="modal-download" style="margin-top: 15px;"></div>
        <button class="btn btn-primary" style="width: 100%; margin-top: 20px;" onclick="App.closeModal()">
          –ó–∞–∫—Ä—ã—Ç—å
        </button>
      </div>
    </div>
  </div>

  <!-- Level Up Modal -->
  <div class="modal-overlay" id="levelup-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px; text-align: center;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">‚¨ÜÔ∏è</div>
        <div class="quest-panel-title">LEVEL UP!</div>
      </div>
      <div style="padding: 30px;">
        <div style="font-size: 4rem; margin-bottom: 20px;">üéâ</div>
        <h2 style="color: var(--color-accent-cyan); margin-bottom: 10px;">
          –£—Ä–æ–≤–µ–Ω—å <span id="new-level">2</span>!
        </h2>
        <p style="color: var(--color-text-secondary); margin-bottom: 20px;">
          –¢—ã —Å—Ç–∞–ª —Å–∏–ª—å–Ω–µ–µ!
        </p>
        <div style="background: rgba(0, 255, 136, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <p style="color: var(--color-accent-green);">
            +<span id="stat-points-gained">2</span> –æ—á–∫–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
          </p>
        </div>
        <button class="btn btn-primary" style="width: 100%;" onclick="App.closeLevelUpModal()">
          ARISE!
        </button>
      </div>
    </div>
  </div>

  <!-- Rank Up Modal -->
  <div class="modal-overlay" id="rankup-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px; text-align: center;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">üèÜ</div>
        <div class="quest-panel-title">RANK UP!</div>
      </div>
      <div style="padding: 30px;">
        <div style="font-size: 4rem; margin-bottom: 20px;" id="rankup-icon">‚öîÔ∏è</div>
        <h2 id="rankup-name" style="margin-bottom: 10px;">D-–†–ê–ù–ì!</h2>
        <p id="rankup-description" style="color: var(--color-text-secondary); margin-bottom: 20px;"></p>
        <button class="btn btn-primary" style="width: 100%;" onclick="App.closeRankUpModal()">
          ARISE!
        </button>
      </div>
    </div>
  </div>

  <!-- Edit Quest Modal -->
  <div class="modal-overlay" id="edit-quest-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">‚úèÔ∏è</div>
        <div class="quest-panel-title" id="edit-modal-title">–†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨</div>
        <span class="quest-panel-close" onclick="App.closeEditModal()">√ó</span>
      </div>
      <div style="padding: 20px;">
        <input type="hidden" id="edit-quest-id">

        <div class="form-group">
          <label id="label-name">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
          <input type="text" id="edit-quest-name" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–≤–µ—Å—Ç–∞">
        </div>

        <div class="form-group">
          <label id="label-icon">–ò–∫–æ–Ω–∫–∞</label>
          <div class="icon-picker" id="icon-picker">
            <!-- Icons will be rendered here -->
          </div>
        </div>

        <div class="form-group">
          <label id="label-target">–¶–µ–ª—å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)</label>
          <input type="number" id="edit-quest-target" class="form-input" placeholder="100" min="1">
        </div>

        <div class="form-group">
          <label id="label-unit">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è</label>
          <input type="text" id="edit-quest-unit" class="form-input" placeholder="–º–∏–Ω, –∫–º, —à—Ç">
        </div>

        <div class="form-group">
          <label id="label-stat">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</label>
          <select id="edit-quest-stat" class="form-input">
            <option value="str">STR (–°–∏–ª–∞)</option>
            <option value="vit">VIT (–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å)</option>
            <option value="agi">AGI (–õ–æ–≤–∫–æ—Å—Ç—å)</option>
            <option value="int">INT (–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç)</option>
            <option value="sen">SEN (–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞)</option>
          </select>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 20px;">
          <button class="btn btn-secondary" id="cancel-edit-btn" style="flex: 1;"
            onclick="App.closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" id="save-edit-btn" style="flex: 1;"
            onclick="App.saveQuestEdit()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>

        <button class="btn btn-danger" style="width: 100%; margin-top: 10px;" id="delete-quest-btn"
          onclick="App.deleteCurrentQuest()">
          –£–¥–∞–ª–∏—Ç—å –∫–≤–µ—Å—Ç
        </button>
      </div>
    </div>
  </div>

  <!-- Raid Victory Modal -->
  <div class="modal-overlay" id="victory-modal">
    <div class="modal-content quest-panel"
      style="width: 90%; max-width: 450px; text-align: center; border: 2px solid var(--color-accent-gold); box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">üëë</div>
        <div class="quest-panel-title" style="color: var(--color-accent-gold);">VICTORY!</div>
      </div>
      <div style="padding: 30px;">
        <div style="font-size: 3rem; margin-bottom: 10px; animation: pulse 2s infinite;">üëπ ‚û°Ô∏è üíÄ</div>
        <h2 id="victory-boss-name" style="margin-bottom: 20px; color: var(--color-accent-red);">BOSS DEFEATED</h2>

        <div class="card" style="background: rgba(0,0,0,0.3); margin-bottom: 25px;">
          <h3 style="color: var(--color-text-primary); margin-bottom: 15px; font-size: 1.1rem;">–ù–ê–ì–†–ê–î–´</h3>
          <div style="display: flex; justify-content: space-around; align-items: center;">
            <div style="text-align: center;">
              <div style="font-size: 1.5rem; color: var(--color-accent-cyan);">‚ú®</div>
              <div style="font-weight: bold; font-size: 1.2rem; color: var(--color-accent-cyan);">+<span
                  id="victory-xp">0</span></div>
              <div style="font-size: 0.8rem; color: #888;">EXP</div>
            </div>
            <div style="width: 1px; height: 40px; background: #333;"></div>
            <div style="text-align: center;">
              <div style="font-size: 1.5rem; color: var(--color-accent-gold);">ü™ô</div>
              <div style="font-weight: bold; font-size: 1.2rem; color: var(--color-accent-gold);">+<span
                  id="victory-gold">0</span></div>
              <div style="font-size: 0.8rem; color: #888;">GOLD</div>
            </div>
          </div>
        </div>

        <button class="btn btn-primary" id="victory-claim-btn"
          style="width: 100%; font-size: 1.2rem; padding: 15px; background: linear-gradient(45deg, var(--color-accent-gold), #ff8c00); border: none;">
          –ó–ê–ë–†–ê–¢–¨ –ù–ê–ì–†–ê–î–£
        </button>
      </div>
    </div>
  </div>

  <!-- Auth Modal -->
  <div class="modal-overlay" id="auth-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">‚öîÔ∏è</div>
        <div class="quest-panel-title" id="auth-modal-title">–í–•–û–î –í –°–ò–°–¢–ï–ú–£</div>
      </div>
      <div style="padding: 20px;">
        <div id="auth-form-login">
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="auth-email" class="form-input" placeholder="hunter@arise.com">
          </div>
          <div class="form-group">
            <label>–ü–∞—Ä–æ–ª—å</label>
            <input type="password" id="auth-password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
          </div>
          <div id="auth-error" style="color: var(--color-accent-red); margin-bottom: 10px; display: none;"></div>
          <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="App.handleLogin()">
            –í–û–ô–¢–ò
          </button>
          <div style="text-align: center; margin-top: 10px;">
            <a href="#" onclick="App.showForgotPasswordForm()"
              style="color: var(--color-accent-gold); font-size: 0.85rem;">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
          </div>
          <div style="text-align: center; margin-top: 15px; color: var(--color-text-secondary);">
            –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="App.showRegisterForm()"
              style="color: var(--color-accent-cyan);">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
          </div>
        </div>

        <div id="auth-form-register" style="display: none;">
          <div class="form-group">
            <label>–ò–º—è –û—Ö–æ—Ç–Ω–∏–∫–∞</label>
            <input type="text" id="auth-hunter-name" class="form-input" placeholder="HUNTER">
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="auth-reg-email" class="form-input" placeholder="hunter@arise.com">
          </div>
          <div class="form-group">
            <label>–ü–∞—Ä–æ–ª—å</label>
            <input type="password" id="auth-reg-password" class="form-input" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤">
          </div>
          <div id="auth-reg-error" style="color: var(--color-accent-red); margin-bottom: 10px; display: none;"></div>
          <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="App.handleRegister()">
            –°–û–ó–î–ê–¢–¨ –û–•–û–¢–ù–ò–ö–ê
          </button>
          <div style="text-align: center; margin-top: 15px; color: var(--color-text-secondary);">
            –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="App.showLoginForm()"
              style="color: var(--color-accent-cyan);">–í–æ–π—Ç–∏</a>
          </div>
        </div>
        <div id="auth-form-forgot" style="display: none;">
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="auth-forgot-email" class="form-input" placeholder="hunter@arise.com">
          </div>
          <div id="auth-forgot-error" style="color: var(--color-accent-red); margin-bottom: 10px; display: none;"></div>
          <div id="auth-forgot-success" style="color: var(--color-accent-green); margin-bottom: 10px; display: none;">
          </div>
          <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="App.handleForgotPassword()">
            –í–û–°–°–¢–ê–ù–û–í–ò–¢–¨
          </button>
          <div style="text-align: center; margin-top: 15px; color: var(--color-text-secondary);">
            –í—Å–ø–æ–º–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å? <a href="#" onclick="App.showLoginForm()"
              style="color: var(--color-accent-cyan);">–í–æ–π—Ç–∏</a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- New Password Modal (for password reset) -->
  <div class="modal-overlay" id="new-password-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">üîê</div>
        <div class="quest-panel-title">–ù–û–í–´–ô –ü–ê–†–û–õ–¨</div>
      </div>
      <div style="padding: 20px;">
        <p style="color: var(--color-text-secondary); margin-bottom: 15px;">
          –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
        </p>
        <div class="form-group">
          <label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
          <input type="password" id="new-password-input" class="form-input" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤">
        </div>
        <div class="form-group">
          <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
          <input type="password" id="new-password-confirm" class="form-input" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
        </div>
        <div id="new-password-error" style="color: var(--color-accent-red); margin-bottom: 10px; display: none;"></div>
        <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="App.handleSetNewPassword()">
          –°–û–•–†–ê–ù–ò–¢–¨ –ü–ê–†–û–õ–¨
        </button>
      </div>
    </div>
  </div>

  <!-- User Account Modal -->

  <div class="modal-overlay" id="account-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 400px;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">üë§</div>
        <div class="quest-panel-title" id="account-modal-title">–ê–ö–ö–ê–£–ù–¢</div>
        <span class="quest-panel-close" onclick="App.closeAccountModal()">√ó</span>
      </div>
      <div style="padding: 20px;">
        <!-- Email -->
        <div class="account-field">
          <label class="account-label">üìß <span id="label-account-email">Email</span></label>
          <div class="account-value" id="account-email">‚Äî</div>
        </div>

        <!-- Password -->
        <div class="account-field">
          <label class="account-label">üîí <span id="label-account-password">–ü–∞—Ä–æ–ª—å</span></label>
          <div class="account-password-row">
            <input type="password" id="account-password" class="form-input" style="flex: 1;"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
            <button class="password-toggle-btn" onclick="App.togglePasswordVisibility()"
              id="password-toggle-btn">üëÅÔ∏è</button>
            <button class="btn btn-small" onclick="App.savePassword()" id="save-password-btn">üíæ</button>
          </div>
        </div>


        <!-- Nickname -->
        <div class="account-field">
          <label class="account-label">üéÆ <span id="label-account-nickname">–ù–∏–∫–Ω–µ–π–º</span></label>
          <div class="account-nickname-row">
            <input type="text" id="account-nickname" class="form-input" style="flex: 1;">
            <button class="btn btn-small" onclick="App.saveNickname()" id="save-nickname-btn">üíæ</button>
          </div>
        </div>

        <div class="account-divider"></div>

        <!-- Stats -->
        <div class="account-stats-grid">
          <div class="account-stat">
            <div class="account-stat-icon">üìÖ</div>
            <div class="account-stat-info">
              <div class="account-stat-value" id="account-created">‚Äî</div>
              <div class="account-stat-label" id="label-account-created">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
            </div>
          </div>
          <div class="account-stat">
            <div class="account-stat-icon">‚è±Ô∏è</div>
            <div class="account-stat-info">
              <div class="account-stat-value" id="account-playtime">‚Äî</div>
              <div class="account-stat-label" id="label-account-playtime">–í—Ä–µ–º—è –≤ –∏–≥—Ä–µ</div>
            </div>
          </div>
          <div class="account-stat">
            <div class="account-stat-icon">üèÜ</div>
            <div class="account-stat-info">
              <div class="account-stat-value" id="account-total-xp">0</div>
              <div class="account-stat-label" id="label-account-xp">–í—Å–µ–≥–æ XP</div>
            </div>
          </div>
          <div class="account-stat">
            <div class="account-stat-icon">üéØ</div>
            <div class="account-stat-info">
              <div class="account-stat-value" id="account-quests">0</div>
              <div class="account-stat-label" id="label-account-quests">–ö–≤–µ—Å—Ç–æ–≤</div>
            </div>
          </div>
          <div class="account-stat">
            <div class="account-stat-icon">üî•</div>
            <div class="account-stat-info">
              <div class="account-stat-value" id="account-best-streak">0</div>
              <div class="account-stat-label" id="label-account-streak">–õ—É—á—à–∞—è —Å–µ—Ä–∏—è</div>
            </div>
          </div>
        </div>

        <button class="btn btn-danger" style="width: 100%; margin-top: 20px;" onclick="App.handleLogout()">
          <span id="logout-btn-text">–í–´–ô–¢–ò</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Beta Welcome Modal -->
  <div class="modal-overlay" id="beta-welcome-modal">
    <div class="modal-content quest-panel" style="width: 90%; max-width: 450px; text-align: center;">
      <div class="quest-panel-header">
        <div class="quest-panel-icon">üåü</div>
        <div class="quest-panel-title">–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨!</div>
      </div>
      <div style="padding: 30px;">
        <div style="font-size: 3.5rem; margin-bottom: 20px;">üéÆ</div>
        <h2 style="color: var(--color-accent-cyan); margin-bottom: 15px; font-size: 1.5rem;">
          –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –Ω–∞—á–∞–ª–æ–º –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!
        </h2>

        <div
          style="background: rgba(255, 215, 0, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid rgba(255, 215, 0, 0.3);">
          <p style="color: var(--color-accent-gold); font-size: 1.1rem; margin: 0;">
            ü™ô <strong>+2000 GOLD</strong>
          </p>
          <p style="color: var(--color-text-secondary); font-size: 0.85rem; margin-top: 5px;">
            –°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–æ–Ω—É—Å –Ω–∞—á–∏—Å–ª–µ–Ω!
          </p>
        </div>

        <div
          style="text-align: left; background: rgba(0, 217, 255, 0.05); padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 3px solid var(--color-accent-cyan);">
          <p style="color: var(--color-text-primary); font-size: 0.9rem; margin: 0 0 8px 0;">
            <strong>üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–µ—Ç–∞-–≤–µ—Ä—Å–∏–∏:</strong>
          </p>
          <ul
            style="color: var(--color-text-secondary); font-size: 0.85rem; margin: 0; padding-left: 20px; line-height: 1.6;">
            <li>–í—Å–µ –ø–æ–¥–∑–µ–º–µ–ª—å—è –¥–æ—Å—Ç—É–ø–Ω—ã —Å <strong>—É—Ä–æ–≤–Ω—è 1</strong></li>
            <li>–ö–ª—é—á–∏ –∫ –ø–æ–¥–∑–µ–º–µ–ª—å—è–º —Å—Ç–æ—è—Ç <strong>0 –∑–æ–ª–æ—Ç–∞</strong></li>
            <li>–ë–æ—Å—Å—ã —Å–æ–∑–¥–∞–Ω—ã –ø–æ –æ–±—Ä–∞–∑—É –¥—Ä—É–∑–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ - –≤–æ–∑–º–æ–∂–Ω–æ —É–∑–Ω–∞–µ—à—å –∫–æ–≥–æ-—Ç–æ! üòÑ</li>
          </ul>
        </div>

        <p style="color: var(--color-text-secondary); font-size: 0.8rem; margin-bottom: 20px;">
          –°–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏! üôè
        </p>

        <button class="btn btn-primary" style="width: 100%; font-size: 1.1rem;" onclick="App.closeBetaWelcomeModal()">
          ARISE! ‚öîÔ∏è
        </button>
      </div>
    </div>
  </div>

  <!-- Notification Container -->

  <div id="notification-container" class="notification-container"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Configuration (loaded from config.js locally, or fallback to empty for Vercel) -->
  <script>
    // This will be loaded from config.js in development
    // For Vercel, config.js will be generated during build
    window.CONFIG = window.CONFIG || {};
  </script>
  <script src="config.js" onerror="console.log('Config.js not found, using environment')"></script>

  <script src="js/storage.js"></script>
  <script src="js/i18n.js"></script>
  <script src="js/audio.js"></script>
  <script src="js/character.js"></script>
  <script src="js/quest-editor.js"></script>
  <script src="js/quests.js"></script>
  <script src="js/rewards.js"></script>
  <script src="js/shop.js"></script>
  <script src="js/history.js"></script>
  <script src="js/achievements.js"></script>
  <script src="js/dungeon.js"></script>
  <script src="js/shadows.js"></script>
  <script src="js/particles.js"></script>
  <script src="js/supabase.js"></script>
  <script src="js/app.js?v=6"></script>
</body>

</html>